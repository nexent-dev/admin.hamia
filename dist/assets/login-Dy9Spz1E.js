import{g as _,a as G,j as o,r as g,u as J,b as y,s as P,c as U,I as ee,d as $,e as K,P as te,m as D,f as q,T as R,h as oe,i as se,k as re,B as A,L as ae,l as le}from"./index-Z--M9CMi.js";import{c as F,u as ne,f as ie}from"./Select-Csl6j462.js";import{T as H}from"./TextField-DHY4n2GR.js";import{C as ce}from"./Checkbox-B_coZp_N.js";function de(e){return G("MuiAlert",e)}const V=_("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),pe=F(o.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),ue=F(o.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),me=F(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),ge=F(o.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),fe=F(o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),be=e=>{const{variant:s,color:r,severity:t,classes:l}=e,n={root:["root",`color${$(r||t)}`,`${s}${$(r||t)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return K(n,de,l)},xe=P(te,{name:"MuiAlert",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${$(r.color||r.severity)}`]]}})(D(({theme:e})=>{const s=e.palette.mode==="light"?e.darken:e.lighten,r=e.palette.mode==="light"?e.lighten:e.darken;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(q(["light"])).map(([t])=>({props:{colorSeverity:t,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${t}Color`]:s(e.palette[t].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${t}StandardBg`]:r(e.palette[t].light,.9),[`& .${V.icon}`]:e.vars?{color:e.vars.palette.Alert[`${t}IconColor`]}:{color:e.palette[t].main}}})),...Object.entries(e.palette).filter(q(["light"])).map(([t])=>({props:{colorSeverity:t,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${t}Color`]:s(e.palette[t].light,.6),border:`1px solid ${(e.vars||e).palette[t].light}`,[`& .${V.icon}`]:e.vars?{color:e.vars.palette.Alert[`${t}IconColor`]}:{color:e.palette[t].main}}})),...Object.entries(e.palette).filter(q(["dark"])).map(([t])=>({props:{colorSeverity:t,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${t}FilledColor`],backgroundColor:e.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[t].dark:e.palette[t].main,color:e.palette.getContrastText(e.palette[t].main)}}}))]}})),ve=P("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),he=P("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),ye=P("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Z={success:o.jsx(pe,{fontSize:"inherit"}),warning:o.jsx(ue,{fontSize:"inherit"}),error:o.jsx(me,{fontSize:"inherit"}),info:o.jsx(ge,{fontSize:"inherit"})},Ce=g.forwardRef(function(s,r){const t=J({props:s,name:"MuiAlert"}),{action:l,children:n,className:f,closeText:i="Close",color:C,components:b={},componentsProps:M={},icon:x,iconMapping:m=Z,onClose:L,role:c="alert",severity:a="success",slotProps:v={},slots:N={},variant:O="standard",...T}=t,d={...t,color:C,severity:a,variant:O,colorSeverity:C||a},h=be(d),p={slots:{closeButton:b.CloseButton,closeIcon:b.CloseIcon,...N},slotProps:{...M,...v}},[z,E]=y("root",{ref:r,shouldForwardComponentProp:!0,className:U(h.root,f),elementType:xe,externalForwardedProps:{...p,...T},ownerState:d,additionalProps:{role:c,elevation:0}}),[S,I]=y("icon",{className:h.icon,elementType:ve,externalForwardedProps:p,ownerState:d}),[B,W]=y("message",{className:h.message,elementType:he,externalForwardedProps:p,ownerState:d}),[w,u]=y("action",{className:h.action,elementType:ye,externalForwardedProps:p,ownerState:d}),[j,Q]=y("closeButton",{elementType:ee,externalForwardedProps:p,ownerState:d}),[X,Y]=y("closeIcon",{elementType:fe,externalForwardedProps:p,ownerState:d});return o.jsxs(z,{...E,children:[x!==!1?o.jsx(S,{...I,children:x||m[a]||Z[a]}):null,o.jsx(B,{...W,children:n}),l!=null?o.jsx(w,{...u,children:l}):null,l==null&&L?o.jsx(w,{...u,children:o.jsx(j,{size:"small","aria-label":i,title:i,color:"inherit",onClick:L,...Q,children:o.jsx(X,{fontSize:"small",...Y})})}):null]})});function Se(e){return G("MuiFormControlLabel",e)}const k=_("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),je=e=>{const{classes:s,disabled:r,labelPlacement:t,error:l,required:n}=e,f={root:["root",r&&"disabled",`labelPlacement${$(t)}`,l&&"error",n&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",l&&"error"]};return K(f,Se,s)},Ae=P("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[{[`& .${k.label}`]:s.label},s.root,s[`labelPlacement${$(r.labelPlacement)}`]]}})(D(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${k.disabled}`]:{cursor:"default"},[`& .${k.label}`]:{[`&.${k.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:s})=>s==="start"||s==="top"||s==="bottom",style:{marginLeft:16}}]}))),Pe=P("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(D(({theme:e})=>({[`&.${k.error}`]:{color:(e.vars||e).palette.error.main}}))),Me=g.forwardRef(function(s,r){const t=J({props:s,name:"MuiFormControlLabel"}),{checked:l,className:n,componentsProps:f={},control:i,disabled:C,disableTypography:b,inputRef:M,label:x,labelPlacement:m="end",name:L,onChange:c,required:a,slots:v={},slotProps:N={},value:O,...T}=t,d=ne(),h=C??i.props.disabled??d?.disabled,p=a??i.props.required,z={disabled:h,required:p};["checked","name","onChange","value","inputRef"].forEach(j=>{typeof i.props[j]>"u"&&typeof t[j]<"u"&&(z[j]=t[j])});const E=ie({props:t,muiFormControl:d,states:["error"]}),S={...t,disabled:h,labelPlacement:m,required:p,error:E.error},I=je(S),B={slots:v,slotProps:{...f,...N}},[W,w]=y("typography",{elementType:R,externalForwardedProps:B,ownerState:S});let u=x;return u!=null&&u.type!==R&&!b&&(u=o.jsx(W,{component:"span",...w,className:U(I.label,w?.className),children:u})),o.jsxs(Ae,{className:U(I.root,n),ownerState:S,ref:r,...T,children:[g.cloneElement(i,z),p?o.jsxs("div",{children:[u,o.jsxs(Pe,{ownerState:S,"aria-hidden":!0,className:I.asterisk,children:["â€‰","*"]})]}):u]})}),$e=()=>{const e=oe(),s=se(),{setAuth:r}=re(),[t,l]=g.useState(""),[n,f]=g.useState(""),[i,C]=g.useState(!1),[b,M]=g.useState(!1),[x,m]=g.useState(null),L=async c=>{if(c.preventDefault(),m(null),!t||!n){m("Email and password are required.");return}try{M(!0);const a=new FormData;a.append("username",t),a.append("password",n),i&&a.append("remember_me","true");const v=await s.login(a);if(v?.success){r(v?.data??null),e("/",{replace:!0});return}m(v?.message||"Unable to sign in. Please check your credentials.")}catch(a){m(a?.response?.data?.message||a?.message||"Unexpected error during sign in.")}finally{M(!1)}};return o.jsxs(A,{className:"auth-login",children:[o.jsx(R,{variant:"h5",fontWeight:600,gutterBottom:!0,className:"m-0",children:"Welcome back"}),o.jsx(R,{variant:"body2",color:"text.secondary",className:"auth-login-subtitle",children:"Welcome back! Please enter your details."}),x&&o.jsx(A,{mt:2,children:o.jsx(Ce,{severity:"error",variant:"outlined",children:x})}),o.jsxs(A,{className:"mt-4",component:"form",noValidate:!0,onSubmit:L,children:[o.jsx(A,{mb:2.5,children:o.jsx(H,{id:"email",label:"Email",type:"email",fullWidth:!0,size:"small",placeholder:"you@example.com",required:!0,value:t,onChange:c=>l(c.target.value)})}),o.jsx(A,{mb:1,children:o.jsx(H,{id:"password",label:"Password",type:"password",fullWidth:!0,size:"small",placeholder:"Enter your password",required:!0,value:n,onChange:c=>f(c.target.value)})}),o.jsxs(A,{display:"flex",alignItems:"center",justifyContent:"space-between",className:"auth-login-meta",children:[o.jsx(Me,{control:o.jsx(ce,{size:"small",checked:i,onChange:c=>C(c.target.checked)}),label:"Remember for 30 days"}),o.jsx(ae,{to:"/request-password-reset",className:"text-decoration-none",children:"Forgot password?"})]}),o.jsx(le,{type:"submit",variant:"contained",fullWidth:!0,className:"auth-primary-btn mt-2",disableElevation:!0,disabled:b,children:b?"Signing in...":"Sign in"})]})]})};export{$e as default};
